{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/app/components/admin_interface/list_of_users.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\ninterface User {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  isPayer: boolean;\r\n  dept: number;\r\n}\r\n\r\nexport default function ListOfUsers({ data }: { data: User[] | undefined }) {\r\n  const API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n  const [ListOfUsers, setListOfUsers] = useState<User[] | undefined>(data);\r\n  const [index, setIndex] = useState<number | undefined>(undefined);\r\n  const addPayer = async (email: string, index: number) => {\r\n    setIndex(index);\r\n    const response = await fetch(`${API_URL}/addPayer`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({ email }),\r\n    });\r\n    const data = await response.json();\r\n    if (data) {\r\n      setListOfUsers((prev) =>\r\n        prev?.map((user, i) =>\r\n          i === index ? { ...user, isPayer: true } : user\r\n        )\r\n      );\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (data) {\r\n      setListOfUsers(data);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <section className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 items-start justify-center m-4\">\r\n      {ListOfUsers &&\r\n        ListOfUsers.map((user, index) => (\r\n          <article\r\n            key={index}\r\n            className=\"bg-foreground flex flex-col items-center rounded-2xl p-4\"\r\n          >\r\n            <h3>\r\n              {user.name} {user.surname}\r\n            </h3>\r\n            <p className=\"text-white\">{user.email}</p>\r\n            <button\r\n              className=\"m-5 w-full\"\r\n              disabled={user?.isPayer}\r\n              onClick={() => addPayer(user.email, index)}\r\n            >\r\n              {user?.isPayer ? <p>Je platiteľ</p> : <p>Nie je platiteľ</p>}\r\n            </button>\r\n          </article>\r\n        ))}\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;;AAUe,SAAS,YAAY,EAAE,IAAI,EAAgC;IACxE,MAAM;IACN,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsB;IACnE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsB;IACvD,MAAM,WAAW,OAAO,OAAe;QACrC,SAAS;QACT,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,SAAS,CAAC,EAAE;YAClD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,aAAa;YACb,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAM;QAC/B;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,MAAM;YACR,eAAe,CAAC,OACd,MAAM,IAAI,CAAC,MAAM,IACf,MAAM,QAAQ;wBAAE,GAAG,IAAI;wBAAE,SAAS;oBAAK,IAAI;QAGjD;IACF;IACA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM;YACR,eAAe;QACjB;IACF,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC;QAAQ,WAAU;kBAChB,eACC,YAAY,GAAG,CAAC,CAAC,MAAM,sBACrB,8OAAC;gBAEC,WAAU;;kCAEV,8OAAC;;4BACE,KAAK,IAAI;4BAAC;4BAAE,KAAK,OAAO;;;;;;;kCAE3B,8OAAC;wBAAE,WAAU;kCAAc,KAAK,KAAK;;;;;;kCACrC,8OAAC;wBACC,WAAU;wBACV,UAAU,MAAM;wBAChB,SAAS,IAAM,SAAS,KAAK,KAAK,EAAE;kCAEnC,MAAM,wBAAU,8OAAC;sCAAE;;;;;iDAAkB,8OAAC;sCAAE;;;;;;;;;;;;eAZtC;;;;;;;;;;AAkBjB","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/app/components/admin_interface/paying_system.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { UseGetMethod } from \"@/app/hooks/get_method\";\r\ninterface User {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  isPayer: boolean;\r\n  dept: number;\r\n  _id: string;\r\n}\r\n\r\nexport default function PayingSystem() {\r\n  const API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n  const [response, setResponse] = useState<string | undefined>(undefined);\r\n  const [operation, setOperation] = useState<boolean>(true);\r\n  const [customAmount, setCustomAmount] = useState<any>(0);\r\n  const [refreshTrigger, setRefreshTrigger] = useState<number>(0);\r\n  const [openingIndex, setOpeningIndex] = useState<number | undefined>(\r\n    undefined\r\n  );\r\n  const [showInput, setShowHiddenInput] = useState<boolean>(false);\r\n  const addToDept = async (\r\n    id: string,\r\n    amount: number,\r\n    userCurrentAmount: number,\r\n    index: number\r\n  ) => {\r\n    setOpeningIndex(index);\r\n    const NewAmount = operation\r\n      ? amount + userCurrentAmount\r\n      : userCurrentAmount - amount;\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/addToDept`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({ id, NewAmount }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data) {\r\n        setRefreshTrigger((prev) => prev + 1);\r\n        setResponse(data);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const openHiddenPart = (index: number) => {\r\n    setResponse(undefined);\r\n    setOpeningIndex(index);\r\n    setShowHiddenInput(true);\r\n  };\r\n  const addToCustomDept = async (id: string, userCurrentAmount: number) => {\r\n    const NewAmount = operation\r\n      ? Number(customAmount) + userCurrentAmount\r\n      : userCurrentAmount - Number(customAmount);\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/addToDept`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({ id, NewAmount }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data) {\r\n        setRefreshTrigger((prev) => prev + 1);\r\n        setResponse(data);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const { dataHook } = UseGetMethod<User[]>(\"getusers\", refreshTrigger);\r\n\r\n  const changeOperation = () => {\r\n    if (operation) {\r\n      setOperation(false);\r\n    } else {\r\n      setOperation(true);\r\n    }\r\n  };\r\n  return (\r\n    <section>\r\n      <div className=\"flex justify-start ml-4 items-center pr-15 md:gap-0\">\r\n        <button\r\n          className=\" rounded-full  bg-blue-700 w-[80px] ml-0 h-[80px] text-white  md:m-0\"\r\n          onClick={() => changeOperation()}\r\n        >\r\n          {operation ? (\r\n            <p className=\"text-white\">+</p>\r\n          ) : (\r\n            <p className=\"text-white\">-</p>\r\n          )}\r\n        </button>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 p-4 gap-8\">\r\n        {dataHook\r\n          ?.filter((user) => user.isPayer === true)\r\n          .map((user, index) => (\r\n            <article key={index} className=\"bg-foreground p-4 rounded-xl\">\r\n              <article className=\"flex flex-col justify-center items-center gap-2\">\r\n                <h3 className=\"text-white text-center\">\r\n                  {user.name} {user.surname}\r\n                </h3>\r\n                <h3 className=\"text-white\">{(user.dept / 100).toFixed(2)} $</h3>\r\n                {response && index === openingIndex && (\r\n                  <p className=\"text-white\">{response}</p>\r\n                )}\r\n              </article>\r\n\r\n              <article className=\"flex flex-col items-center gap-2 mt-4\">\r\n                <button\r\n                  className=\"min-w-0 w-fit px-8 py-2 bg-blue-500 text-white rounded\"\r\n                  onClick={() => addToDept(user._id, 70, user.dept, index)}\r\n                >\r\n                  {operation ? \"Plus\" : \"Minus\"} 70 cents\r\n                </button>\r\n                <button\r\n                  className=\"min-w-0 w-fit px-8 py-2 bg-blue-500 text-white rounded\"\r\n                  onClick={() => addToDept(user._id, 75, user.dept, index)}\r\n                >\r\n                  {operation ? \"Plus\" : \"Minus\"} 75 cents\r\n                </button>\r\n                {index !== openingIndex && (\r\n                  <button\r\n                    className=\"min-w-0 w-fit px-8 py-2 text-white underline\"\r\n                    onClick={() => openHiddenPart(index)}\r\n                  >\r\n                    Zadať custom hodnotu\r\n                  </button>\r\n                )}\r\n                {showInput && index === openingIndex && (\r\n                  <div className=\"flex flex-col items-center gap-2 mt-2\">\r\n                    <label className=\"text-white\">\r\n                      {operation ? \"Plus\" : \"Minus\"}\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={customAmount}\r\n                      onChange={(e) => setCustomAmount(e.target.value)}\r\n                      className=\"p-1 rounded text-black\"\r\n                    />\r\n                    <button\r\n                      className=\"px-3 py-1 bg-green-500 text-white rounded\"\r\n                      onClick={() => addToCustomDept(user._id, user.dept)}\r\n                    >\r\n                      Poslať novú hodnotu\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </article>\r\n            </article>\r\n          ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/app/components/admin_interface/admin_interface.tsx"],"sourcesContent":["import { UseGetMethod } from \"@/app/hooks/get_method\";\r\nimport React, { use, useState } from \"react\";\r\nimport ListOfUsers from \"./list_of_users\";\r\nimport PayingSystem from \"./paying_system\";\r\n\r\ninterface User {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  isPayer: boolean;\r\n  dept: number;\r\n}\r\n\r\nexport default function AdminInterface() {\r\n  const API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n  const { dataHook } = UseGetMethod<User[]>(\"getusers\");\r\n\r\n  const [toggle, setToggle] = useState<string>(\"Všetci prihlásený\");\r\n  const filterUsers = () => {\r\n    if (toggle === \"Všetci prihlásený\") {\r\n      setToggle(\"Platiteľia\");\r\n    } else {\r\n      setToggle(\"Všetci prihlásený\");\r\n    }\r\n  };\r\n  return (\r\n    <main>\r\n      <button className=\"m-5 rounded-none\" onClick={() => filterUsers()}>\r\n        {toggle}\r\n      </button>\r\n      {toggle === \"Platiteľia\" && <ListOfUsers data={dataHook} />}\r\n      {toggle === \"Všetci prihlásený\" && <PayingSystem />}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAUe,SAAS;IACtB,MAAM;IACN,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,eAAY,AAAD,EAAU;IAE1C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC7C,MAAM,cAAc;QAClB,IAAI,WAAW,qBAAqB;YAClC,UAAU;QACZ,OAAO;YACL,UAAU;QACZ;IACF;IACA,qBACE,8OAAC;;0BACC,8OAAC;gBAAO,WAAU;gBAAmB,SAAS,IAAM;0BACjD;;;;;;YAEF,WAAW,8BAAgB,8OAAC,sJAAA,CAAA,UAAW;gBAAC,MAAM;;;;;;YAC9C,WAAW,qCAAuB,8OAAC,sJAAA,CAAA,UAAY;;;;;;;;;;;AAGtD","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/app/users/%5Busername%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport AdminInterface from \"@/app/components/admin_interface/admin_interface\";\r\nimport { UseGetMethod } from \"@/app/hooks/get_method\";\r\nimport React, { useEffect } from \"react\";\r\nimport { LoginRegistrationContext } from \"@/app/context/login_registration\";\r\nimport { useContext } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface User {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n}\r\n\r\nexport default function UserInterface({\r\n  params,\r\n}: {\r\n  params: { username: string };\r\n}) {\r\n  const router = useRouter();\r\n  const [showAdminContext, setShowAdminContext] = useState<boolean>(false);\r\n  const context = useContext(LoginRegistrationContext);\r\n  const { dataHook, loadingHook } = UseGetMethod<User>(\"getuser\");\r\n\r\n  useEffect(() => {\r\n    if (\r\n      dataHook?.email === \"martinhayden3030@gmail.com\" &&\r\n      dataHook.name === \"Martin\" &&\r\n      dataHook.surname === \"Hayden\"\r\n    ) {\r\n      setShowAdminContext(true);\r\n    } else if (\r\n      dataHook?.email !== \"martinhayden3030@gmail.com\" &&\r\n      dataHook?.name !== \"Martin\" &&\r\n      dataHook?.surname !== \"Hayden\"\r\n    ) {\r\n      setShowAdminContext(false);\r\n    }\r\n  }, [dataHook?.email, dataHook?.name, dataHook?.surname]);\r\n  console.log(showAdminContext);\r\n  return (\r\n    <div>\r\n      {loadingHook && <p>loading...</p>}\r\n      {!loadingHook && showAdminContext ? <AdminInterface /> : <p>User</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAGA;AAPA;;;;;;;;;AAee,SAAS,cAAc,EACpC,MAAM,EAGP;IACC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAClE,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE,qIAAA,CAAA,2BAAwB;IACnD,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,eAAY,AAAD,EAAQ;IAErD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IACE,UAAU,UAAU,gCACpB,SAAS,IAAI,KAAK,YAClB,SAAS,OAAO,KAAK,UACrB;YACA,oBAAoB;QACtB,OAAO,IACL,UAAU,UAAU,gCACpB,UAAU,SAAS,YACnB,UAAU,YAAY,UACtB;YACA,oBAAoB;QACtB;IACF,GAAG;QAAC,UAAU;QAAO,UAAU;QAAM,UAAU;KAAQ;IACvD,QAAQ,GAAG,CAAC;IACZ,qBACE,8OAAC;;YACE,6BAAe,8OAAC;0BAAE;;;;;;YAClB,CAAC,eAAe,iCAAmB,8OAAC,wJAAA,CAAA,UAAc;;;;qCAAM,8OAAC;0BAAE;;;;;;;;;;;;AAGlE","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}