{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Martin%20Hay/list_of_payers/frontend/app/components/login_registration/login.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, FormEvent } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { LoginRegistrationContext } from \"@/app/context/login_registration\";\r\nconst Login = () => {\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [responseMessage, setResponseMessage] = useState<string>(\"\");\r\n\r\n  const API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n  const context = useContext(LoginRegistrationContext);\r\n  const submitForm = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setResponseMessage(\"\");\r\n    const data = { email, password };\r\n\r\n    try {\r\n      const res = await fetch(`${API_URL}/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      if (!res.ok) {\r\n      } else {\r\n        const result = await res.json();\r\n\r\n        setResponseMessage(result);\r\n        if (result === \"Úspešene ste sa prihlásili\") {\r\n          context?.setResponse((prev) => prev + 1);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Chyba pri prihlasovaní:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"flex justify-center items-center min-h-screen px-4 py-10\">\r\n      <form\r\n        onSubmit={submitForm}\r\n        className=\"w-full max-w-md bg-white p-8 rounded-2xl shadow-md space-y-6\"\r\n      >\r\n        <h2 className=\"text-black text-center text-2xl font-bold\">\r\n          Prihlásenie\r\n        </h2>\r\n\r\n        {responseMessage &&\r\n          responseMessage !== \"Úspešene ste sa prihlásili\" && (\r\n            <p className=\"text-red-500 text-center border border-red-500 rounded-md p-3\">\r\n              {responseMessage}\r\n            </p>\r\n          )}\r\n\r\n        {responseMessage === \"Úspešene ste sa prihlásili\" && (\r\n          <p className=\"text-green-600 text-center border border-green-600 rounded-md p-3\">\r\n            {responseMessage}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-sm font-medium\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-1\">\r\n          <label className=\"text-sm font-medium\">Heslo:</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-blue-600 m-0 text-white py-2 rounded-md hover:bg-blue-700 transition\"\r\n        >\r\n          Prihlásiť sa\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":";;;AASkB;;AARlB;AAEA;;;AAHA;;;;AAIA,MAAM,QAAQ;;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAE/D,MAAM;IACN,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,2BAAwB;IACnD,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,mBAAmB;QACnB,MAAM,OAAO;YAAE;YAAO;QAAS;QAE/B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,MAAM,CAAC,EAAE;gBAC1C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE,CACb,OAAO;gBACL,MAAM,SAAS,MAAM,IAAI,IAAI;gBAE7B,mBAAmB;gBACnB,IAAI,WAAW,8BAA8B;oBAC3C,SAAS,YAAY,CAAC,OAAS,OAAO;gBACxC;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,qBACE,6LAAC;QAAQ,WAAU;kBACjB,cAAA,6LAAC;YACC,UAAU;YACV,WAAU;;8BAEV,6LAAC;oBAAG,WAAU;8BAA4C;;;;;;gBAIzD,mBACC,oBAAoB,8CAClB,6LAAC;oBAAE,WAAU;8BACV;;;;;;gBAIN,oBAAoB,8CACnB,6LAAC;oBAAE,WAAU;8BACV;;;;;;8BAIL,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAAsB;;;;;;sCACvC,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAAsB;;;;;;sCACvC,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBACC,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;GAtFM;KAAA;uCAwFS","debugId":null}}]
}